{% extends 'HomeBundle::layout.html.twig' %}
{% block home_page_title %}
    {#test#}
{% endblock %}
{% block home_body %}

    <div class="mdl-grid">
        <div class="mdl-cell--1-col-desktop"></div>
        <div class="mdl-cell--10-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone">
            {% if adverts|length != 0 %}
                <div class="mdl-grid" id="adverts-home">
                    {% for advert in adverts %}
                        <div class="mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--4-col-phone">
                            <div class="mdl-card mdl-shadow--2dp width-100">
                                <div class="mdl-card__title mdl-card--expand" style="background: url('{{ asset(advert.mediaFirst.AssetPath) }}') center / cover">
                                    <div class="shadow-title">
                                        <h2 class="mdl-card__title-text mdl-typography--font-bold mdl-color-text--accent">{{ advert.price }}&nbsp;â‚¬</h2>
                                    </div>
                                </div>
                                <div class="mdl-card__supporting-text width-100">
                                    <span class="pull-right">{{ advert.dateAdd|date("D d M H:i", "Europe/Paris") }}</span>
                                    <h4>{{ advert.title|length > 20 ? advert.title|slice(0, 20) ~ '...' : advert.title  }}</h4>
                                    {{ advert.description|length > 150 ? advert.description|slice(0, 150) ~ '...' : advert.description  }}
                                </div>
                                <div class="mdl-card__actions mdl-card--border">
                                    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect pull-right" href="{{ path('show_advertisement', {'id_advert': advert.id} ) }}">
                                        {{ 'crud.Advertisement.see'|trans }}
                                    </a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                {{ 'crud.Advertisement.nothing'|trans }}
            {% endif %}
        </div>
        <div class="mdl-cell--1-col-desktop"></div>
    </div>
{% endblock %}
